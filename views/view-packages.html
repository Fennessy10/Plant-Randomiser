<!doctype html>
<html lang="en" data-bs-theme="auto">

<head>
    <title>View Packages</title>
    <link href="/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="album py-5">
        <div class="container">

            <a type="button" class="btn btn-primary" href="/33906548/Patrick/">Home</a>
            <a type="button" class="btn btn-primary" href="/33906548/Patrick/add-package">Add New Package</a>
                
            <h3 class="my-2">View Packages</h3>

            <div class="row row-cols-1 g-3">
                <div class="col">
                    <% if (packageDb.length === 0) { %>
                        <p>No packages available</p>
                    <% } else { %>
                        <table class="table table-hover">
                            <thead>
                              <tr>
                                <th scope="col">Package ID</th>
                                <th scope="col">Title</th>
                                <th scope="col">Weight</th>
                                <th scope="col">Destination</th>
                                <th scope="col">Description</th>
                                <th scope="col">Driver ID</th>
                                <th scope="col">Created At</th>
                                <th scope="col">Is Allocated</th>
                              </tr>
                            </thead>
                            
                            <tbody>
                                <% for (let i = 0; i < packageDb.length; i++) { %>
                                    <tr>
                                        <td scope="row"><%= packageDb[i].package_id %></td>
                                        <td><%= packageDb[i].package_title %></td>
                                        <td><%= packageDb[i].package_weight %></td>
                                        <td><%= packageDb[i].package_destination %></td>
                                        <td><%= packageDb[i].description %></td>
                                        <td><%= packageDb[i].driver_id %></td>
                                        <td><%= packageDb[i].createdAt.toLocaleString() %></td>
                                        <td><%= packageDb[i].isAllocated ? 'Yes' : 'No' %></td>
                                    </tr>
                                <% } %>
                            </tbody>
                        </table>
                    <% } %>
                </div>
            </div>
        </div>
    </div>
    <footer class="bg-dark text-light text-left py-3 px-3 fixed-bottom">
        <p class="mb-1">
            <strong class="text-primary">Name:</strong> Patrick Fennessy<br>
            <strong class="text-primary">Student ID:</strong> 33906548 <br>
            <br><br>
            <strong class="text-primary">About Us:</strong> Our Package Delivery Management Application (PDMA) is a comprehensive web-based solution designed to streamline and optimize the entire package delivery process. From order creation and tracking to driver management and route optimisation, our PDMA empowers businesses to deliver packages efficiently and reliably. With our user-friendly interface and powerful features, you can enhance customer satisfaction, reduce costs, and improve overall operational efficiency<br>
            <br><br>
            <strong class="text-primary">Contact Us:</strong><br>
            <ul>
                <li>Email: <a href="" class="text-primary">pfen0005@student.monash.edu</a></li>
                <li>Phone: <a href="" class="text-primary">+ 61 3 9905 4000</a></li>
                <li>Address: <a href="" class="text-primary">Wellington Road
                    Clayton
                    Victoria 3800
                    Australia</a></li>
            </ul>
        </p>
    </footer>
</body>

</html>
